{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <div class="card shadow p-4">
    <h2 class="fw-bold">{{ thread.title }}</h2>
    <p class="text-muted">
      ğŸ“š <strong>ë„ì„œ:</strong> <a href="{% url 'books:detail' book.pk %}">{{ book.title }}</a><br>
      ğŸ‘¤ <strong>ì‘ì„±ì:</strong> <a href="{% url 'accounts:profile' thread.user.pk %}">{{ user.username }}</a><br>
      ğŸ“… <strong>ë…ì„œì¼:</strong> {{ thread.reading_date }}
    </p>

    <hr>
    <p>{{ thread.content }}</p>

    <form action="{% url 'books:like' thread.pk %}" method="POST" class="mt-3">
      {% csrf_token %}
      <span>ğŸ–¤ {{ thread.like_users.all|length }} ì¢‹ì•„ìš”</span>
      {% if request.user in thread.like_users.all %}
        <button type="submit" class="btn btn-outline-success btn-sm">ì¢‹ì•„ìš” ì·¨ì†Œ</button>
      {% else %}
        <button type="submit" class="btn btn-success btn-sm">ì¢‹ì•„ìš”</button>
      {% endif %}
    </form>

    <hr>
    <div class="d-flex gap-2 mt-2">
      <a href="{% url 'books:thread_update' book.pk thread.pk %}" class="btn btn-secondary">ìˆ˜ì •</a>
      <form action="{% url 'books:thread_delete' book.pk thread.pk %}" method="POST">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">ì‚­ì œ</button>
      </form>
    </div>
  </div>
</div>
{% endblock content %}
