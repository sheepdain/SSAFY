{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container mt-5">
  <div class="card shadow p-4 col-md-8 mx-auto">
    <h2 class="fw-bold text-center mb-4">ğŸ™‹â€â™‚ï¸ í”„ë¡œí•„</h2>

    <div class="text-center mb-4">
      {% if profiles.profile %}
        <img src="{{ profiles.profile.url }}" class="rounded-circle" style="width: 150px; height: 150px; object-fit: cover;">
      {% else %}
        <img src="{% static 'base_img.png' %}" class="rounded-circle" style="width: 150px; height: 150px;">
      {% endif %}
    </div>

    <ul class="list-group mb-3">
      <li class="list-group-item">ë‹‰ë„¤ì„: {{ profiles.username }}</li>
      <li class="list-group-item">ì´ë©”ì¼: {{ profiles.email }}</li>
      <li class="list-group-item">ì„±: {{ profiles.last_name }}</li>
      <li class="list-group-item">ì´ë¦„: {{ profiles.first_name }}</li>
      <li class="list-group-item">ì„±ë³„: {{ profiles.gender }}</li>
      <li class="list-group-item">ë‚˜ì´: {{ profiles.age }}</li>
      <li class="list-group-item">ì£¼ê°„ ë…ì„œ ì‹œê°„: {{ profiles.weekly_avg_reading_time }}ì‹œê°„</li>
      <li class="list-group-item">ì—°ê°„ ë…ì„œëŸ‰: {{ profiles.yearly_read_count }}ê¶Œ</li>
      <li class="list-group-item">ì¹´í…Œê³ ë¦¬: {{ profiles.category }}</li>
    </ul>

    <div class="mb-3">
      <p>íŒ”ë¡œì›Œ: <strong>{{ profiles.followers.all|length }}</strong></p>
      <p>íŒ”ë¡œì‰: <strong>{{ profiles.followings.all|length }}</strong></p>

      {% if request.user != profiles %}
        <form action="{% url 'accounts:follow' profiles.pk %}" method="POST">
          {% csrf_token %}
          {% if request.user in profiles.followers.all %}
            <button type="submit" class="btn btn-danger">ì–¸íŒ”ë¡œìš°</button>
          {% else %}
            <button type="submit" class="btn btn-success">íŒ”ë¡œìš°</button>
          {% endif %}
        </form>
      {% endif %}
    </div>

    <div class="text-center">
      <a href="{% url 'accounts:update' %}" class="btn btn-outline-primary">íšŒì›ì •ë³´ ìˆ˜ì •</a>
    </div>
  </div>
</div>
{% endblock content %}
