{% extends "base.html" %}


{% block content %}

<div class="d-flex justify-content-center">

  <div class="container mx-auto mt-3">
    <h1>도서 상세 페이지</h1>
    {% if book.cover_image %}
    <img src="{{book.cover_image.url}}" alt="도서 이미지" style = "width : 20rem; height : auto">
    {% endif %}
    <h2  class="fw-bold">{{book.title}}</h2>
    <p>{{book.description}}</p>
    <h6 class="fw-bold">회원 리뷰 평점 : {{book.customer_review_rank}} / 10</h6>
    <br>

    <hr>
    <div  class="d-flex gap-3">
      <img src="https://commons.wikimedia.org/wiki/Special:FilePath/Hermann_Hesse_2.jpg" 
      class="rounded-circle"
      style="width: 120px; height: 120px; border-radius :50%; object-fit: cover;">
 
        <div>
          <h4  class="fw-bold">{{book.author}}</h4>
          <h5  class="fw-bold">대표작 : {{author_description.author_works}} </h5>
          <h5  class="fw-bold">{{author_description.author_info}} </h5>
          <h5 class = "fs-6 fw-bold"> ※ 작가 대표작과 작가 정보는 AI가 생성한 답변으로, 정확하지 않을 수 있습니다. </h5>
        </div>
    </div>


    <hr>

    <div class="audio-container">
      <h2 class = "fs-5 fw-bold">도서 정보 음성 듣기</h2>
      <audio id="audioPlayer" controls>
          <source src="{{audio_file}}" type="audio/mpeg">
          브라우저가 오디오 재생을 지원하지 않습니다.
      </audio>
      <div>

  </div>

    <hr>



    <div class="d-flex gap-1 ">

      <a href="{% url "books:update" book.pk %}"><button type="button" class="btn btn-secondary">UPDATE</button></a>


      <form action="{% url "books:delete" book.pk %}" method = 'POST'> 
        {% csrf_token %}
        <button type="input" class="btn btn-danger">DELETE</button>
      </form>

    </div>
 
    <hr>
    <a href="{% url "books:index" %}"><button type="button" class="btn btn-primary">back</button></a>

  </div>
</div>


{% endblock content %}